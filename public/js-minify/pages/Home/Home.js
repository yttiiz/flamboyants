var u=class{createHTMLElements(...e){let o=[];for(let t of e)o.push(document.createElement(t));return o}createSameHTMLElements(e,o){let t=[];for(let n=0;n<o;n++)t.push(document.createElement(e));return t}setSameHTMLElementAttributes(e,o,...t){if(t.length===1){o===!0?t[0].setAttribute(e,""):t[0][e]=o;return}for(let n of t)o===!0?n.setAttribute(e,""):n[e]=o}insertChildren(e,...o){for(let t of o)e.appendChild(t)}};var h=r=>{let e=new FormData(r);for(let[o,t]of e)(t===""||typeof t=="object"&&t.size===0||o.includes("file"))&&e.delete(o);return e},g=r=>{for(let e of r)e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector("input")&&(e.querySelector("input").value="")},m=class{constructor(){}static setFormData=h;static removeInputsValues=g;static setUserDialogContent=(r,{title:e,paragraph:o})=>{r.querySelector("h2").textContent=e,r.querySelector("p").textContent=o};static setProductDialogContent=(r,{isUserConnected:e,title:o,paragraph:t})=>{r.querySelector("h2").textContent=o,r.querySelector("p").textContent=t,e||e===void 0?r.querySelector(".login-register").classList.contains("none")||r.querySelector(".login-register").classList.add("none"):r.querySelector(".login-register").classList.contains("none")&&r.querySelector(".login-register").classList.remove("none")};static setProfilDialogContent=(r,{title:e,paragraph:o,status:t,handler:n})=>{if(r.querySelector("h2").textContent=e,r.querySelector("p").textContent=o,t)switch(t){case 201:{r.querySelector("form").classList.contains("none")||r.querySelector("form").classList.add("none");break}case 200:{r.querySelector("form").classList.contains("none")||r.querySelector("form").classList.add("none"),r.querySelector(".show-message-to-user").classList.contains("none")&&r.querySelector(".show-message-to-user").classList.remove("none"),n&&(r.querySelector("button").removeEventListener("click",n),r.querySelector("button").addEventListener("click",()=>globalThis.location.href="/"));break}}else r.querySelector("form").classList.contains("none")&&r.querySelector("form").classList.remove("none")};static setHomeDialogContent=(r,{title:e,paragraph:o},t)=>{r.querySelector("h2").textContent=e,r.querySelector("p").innerHTML=o;let n=globalThis.navigator.userAgent.includes("Firefox"),c=r.querySelector("input"),l=t.closest("div").nextElementSibling.href;if(c.value=l,n){let s=r.querySelector("div > div"),i=s.querySelector("button");i&&s.removeChild(i);return}r.querySelector("div > div button").addEventListener("click",async s=>{let i=await navigator.permissions.query({name:"clipboard-write"});(i.state==="granted"||i.state==="prompt")&&(navigator.clipboard.writeText(l),c.select(),s.target.textContent="Copi\xE9",setTimeout(()=>{globalThis.getSelection().removeAllRanges(),s.target.textContent="Copier"},2e3))})};static getOrCreateElement=({parent:r,cssSelector:e,hmtlTag:o})=>{let t;return r.querySelector(e)?t=r.querySelector(e):(t=document.createElement(o),r.appendChild(t)),t}};var p=class extends u{constructor(){super()}renderContent=e=>{this.#e({buttonsSelector:".social-btns button:last-of-type",dialogSelector:"#data-home dialog"}),this.#t(e),this.handleHomeLink()};handleHomeLink=()=>{let e=document.querySelector("#logo > a"),o=document.querySelector(".footer-home");e.addEventListener("click",t=>t.preventDefault()),o.addEventListener("click",t=>t.preventDefault())};renderError=({errorMsg:e})=>{document.querySelector("#visits")&&(document.querySelector("#visits").innerHTML=`
      <div class="container">
        <div>
          <h1>Connexion impossible</h1>
          <p>${e}</p>
        </div>
      </div>`)};#e=({buttonsSelector:e,dialogSelector:o})=>{let t=document.querySelector(o),n=document.querySelectorAll(e);for(let c of n)c.addEventListener("click",l=>{let s=l.currentTarget.closest("li").querySelector("h2").textContent;m.setHomeDialogContent(t,{title:"Partagez sur les r\xE9seaux",paragraph:`Copiez le lien vers <b>${s}</b>, ci-dessous, pour le partager o\xF9 vous le souhaitez.`},l.currentTarget),t.showModal()});t.querySelector("button[data-close]").addEventListener("click",()=>{t.close()})};#t=(e,o=document.querySelector(".visits-cards"))=>{o.innerHTML="";for(let t of Object.keys(e)){let[n,c,l]=this.createHTMLElements("li","figure","img"),[s,i,d,a]=this.createHTMLElements("div","h2","p","a");l.src=e[t].image,l.alt=e[t].title,i.textContent=e[t].title,d.textContent=e[t].text,a.href=e[t].href,a.target="_blank",a.textContent="En savoir plus",o.className="visits-cards",this.insertChildren(c,l),this.insertChildren(s,i,d,a),this.insertChildren(n,c,s),this.insertChildren(o,n)}}};export{p as HomePage};
