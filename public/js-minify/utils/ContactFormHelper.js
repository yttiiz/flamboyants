var u=e=>{let t=new FormData(e);for(let[o,r]of t)(r===""||typeof r=="object"&&r.size===0||o.includes("file"))&&t.delete(o);return t},m=e=>{for(let t of e)t.querySelector("textarea")&&(t.querySelector("textarea").value=""),t.querySelector("input")&&(t.querySelector("input").value="")},y=class{constructor(){}static setFormData=u;static removeInputsValues=m;static setUserDialogContent=(e,{title:t,paragraph:o})=>{e.querySelector("h2").textContent=t,e.querySelector("p").textContent=o};static setProductDialogContent=(e,{isUserConnected:t,title:o,paragraph:r})=>{e.querySelector("h2").textContent=o,e.querySelector("p").textContent=r,t||t===void 0?e.querySelector(".login-register").classList.contains("none")||e.querySelector(".login-register").classList.add("none"):e.querySelector(".login-register").classList.contains("none")&&e.querySelector(".login-register").classList.remove("none")};static setProfilDialogContent=(e,{title:t,paragraph:o,status:r,handler:n})=>{if(e.querySelector("h2").textContent=t,e.querySelector("p").textContent=o,r)switch(r){case 201:{e.querySelector("form").classList.contains("none")||e.querySelector("form").classList.add("none");break}case 200:{e.querySelector("form").classList.contains("none")||e.querySelector("form").classList.add("none"),e.querySelector(".show-message-to-user").classList.contains("none")&&e.querySelector(".show-message-to-user").classList.remove("none"),n&&(e.querySelector("button").removeEventListener("click",n),e.querySelector("button").addEventListener("click",()=>globalThis.location.href="/"));break}}else e.querySelector("form").classList.contains("none")&&e.querySelector("form").classList.remove("none")};static setHomeDialogContent=(e,{title:t,paragraph:o},r)=>{e.querySelector("h2").textContent=t,e.querySelector("p").innerHTML=o;let n=globalThis.navigator.userAgent.includes("Firefox"),i=e.querySelector("input"),l=r.closest("div").nextElementSibling.href;if(i.value=l,n){let s=e.querySelector("div > div"),c=s.querySelector("button");c&&s.removeChild(c);return}e.querySelector("div > div button").addEventListener("click",async s=>{let c=await navigator.permissions.query({name:"clipboard-write"});(c.state==="granted"||c.state==="prompt")&&(navigator.clipboard.writeText(l),i.select(),s.target.textContent="Copi\xE9",setTimeout(()=>{globalThis.getSelection().removeAllRanges(),s.target.textContent="Copier"},2e3))})};static getOrCreateElement=({parent:e,cssSelector:t,hmtlTag:o})=>{let r;return e.querySelector(t)?r=e.querySelector(t):(r=document.createElement(o),e.appendChild(r)),r}},f=class a extends y{static displayDialog=async t=>{let o=document.querySelector("#data-contact > dialog"),r={title:"Erreur serveur",paragraph:"Une erreur est survenue du c\xF4t\xE9 du serveur. Veuillez nous excuser pour cette g\xEAne occasionn\xE9e."};if(t)if(t.status===200){let{message:n,title:i}=await t.json();r.title=i,r.paragraph=n}else r.title="Erreur formulaire",r.paragraph="Une erreur est survenue lors de l'envoi du formulaire. Veuillez r\xE9\xE9ssayer ult\xE9rieurement.";a.setUserDialogContent(o,r),o.showModal()}};export{f as ContactFormHelper};
