var p=o=>{let e=new FormData(o);for(let[r,t]of e)(t===""||typeof t=="object"&&t.size===0||r.includes("file"))&&e.delete(r);return e},y=o=>{for(let e of o)e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector("input")&&(e.querySelector("input").value="")};var a=class{constructor(){}static setFormData=p;static removeInputsValues=y;static setUserDialogContent=(e,{title:r,paragraph:t})=>{e.querySelector("h2").textContent=r,e.querySelector("p").textContent=t};static setProductDialogContent=(e,{isUserConnected:r,title:t,paragraph:n})=>{e.querySelector("h2").textContent=t,e.querySelector("p").textContent=n,r||r===void 0?e.querySelector(".login-register").classList.contains("none")||e.querySelector(".login-register").classList.add("none"):e.querySelector(".login-register").classList.contains("none")&&e.querySelector(".login-register").classList.remove("none")};static setProfilDialogContent=(e,{title:r,paragraph:t,status:n,handler:s})=>{if(e.querySelector("h2").textContent=r,e.querySelector("p").textContent=t,n)switch(n){case 201:{e.querySelector("form").classList.contains("none")||e.querySelector("form").classList.add("none");break}case 200:{e.querySelector("form").classList.contains("none")||e.querySelector("form").classList.add("none"),e.querySelector(".show-message-to-user").classList.contains("none")&&e.querySelector(".show-message-to-user").classList.remove("none"),s&&(e.querySelector("button").removeEventListener("click",s),e.querySelector("button").addEventListener("click",()=>globalThis.location.href="/"));break}}else e.querySelector("form").classList.contains("none")&&e.querySelector("form").classList.remove("none")};static setHomeDialogContent=(e,{title:r,paragraph:t},n)=>{e.querySelector("h2").textContent=r,e.querySelector("p").innerHTML=t;let s=globalThis.navigator.userAgent.includes("Firefox"),l=e.querySelector("input"),u=n.closest("div").nextElementSibling.href;if(l.value=u,s){let c=e.querySelector("div > div"),i=c.querySelector("button");i&&c.removeChild(i);return}e.querySelector("div > div button").addEventListener("click",async c=>{let i=await navigator.permissions.query({name:"clipboard-write"});(i.state==="granted"||i.state==="prompt")&&(navigator.clipboard.writeText(u),l.select(),c.target.textContent="Copi\xE9",setTimeout(()=>{globalThis.getSelection().removeAllRanges(),c.target.textContent="Copier"},2e3))})};static getOrCreateElement=({parent:e,cssSelector:r,hmtlTag:t})=>{let n;return e.querySelector(r)?n=e.querySelector(r):(n=document.createElement(t),e.appendChild(n)),n}};var m=class o extends a{static displayDialog=async e=>{let r=document.querySelector("#data-contact > dialog"),t={title:"Erreur serveur",paragraph:"Une erreur est survenue du c\xF4t\xE9 du serveur. Veuillez nous excuser pour cette g\xEAne occasionn\xE9e."};if(e)if(e.status===200){let{message:n,title:s}=await e.json();t.title=s,t.paragraph=n}else t.title="Erreur formulaire",t.paragraph="Une erreur est survenue lors de l'envoi du formulaire. Veuillez r\xE9\xE9ssayer ult\xE9rieurement.";o.setUserDialogContent(r,t),r.showModal()}};export{m as ContactFormHelper};
