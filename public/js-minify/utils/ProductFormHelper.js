var p=n=>{let e=new FormData(n);for(let[t,r]of e)(r===""||typeof r=="object"&&r.size===0||t.includes("file"))&&e.delete(t);return e},d=n=>{for(let e of n)e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector("input")&&(e.querySelector("input").value="")};var u=class{constructor(){}static setFormData=p;static removeInputsValues=d;static setUserDialogContent=(e,{title:t,paragraph:r})=>{e.querySelector("h2").textContent=t,e.querySelector("p").innerHTML=r};static setProductDialogContent=(e,{isUserConnected:t,title:r,paragraph:o})=>{e.querySelector("h2").textContent=r,e.querySelector("p").textContent=o,t||t===void 0?e.querySelector(".login-register").classList.contains("none")||e.querySelector(".login-register").classList.add("none"):e.querySelector(".login-register").classList.contains("none")&&e.querySelector(".login-register").classList.remove("none")};static setProfilDialogContent=(e,{title:t,paragraph:r,status:o,handler:s})=>{if(e.querySelector("h2").textContent=t,e.querySelector("p").textContent=r,o)switch(o){case 201:{e.querySelector("form").classList.contains("none")||e.querySelector("form").classList.add("none");break}case 200:{e.querySelector("form").classList.contains("none")||e.querySelector("form").classList.add("none"),e.querySelector(".show-message-to-user").classList.contains("none")&&e.querySelector(".show-message-to-user").classList.remove("none"),s&&(e.querySelector("button").removeEventListener("click",s),e.querySelector("button").addEventListener("click",()=>globalThis.location.href="/"));break}}else e.querySelector("form").classList.contains("none")&&e.querySelector("form").classList.remove("none")};static setHomeDialogContent=(e,{title:t,paragraph:r},o)=>{e.querySelector("h2").textContent=t,e.querySelector("p").innerHTML=r;let s=globalThis.navigator.userAgent.includes("Firefox"),a=e.querySelector("input"),c=o.closest("div").nextElementSibling.href;if(a.value=c,s){let i=e.querySelector("div > div"),l=i.querySelector("button");l&&i.removeChild(l);return}e.querySelector("div > div button").addEventListener("click",async i=>{let l=await navigator.permissions.query({name:"clipboard-write"});(l.state==="granted"||l.state==="prompt")&&(navigator.clipboard.writeText(c),a.select(),i.target.textContent="Copi\xE9",setTimeout(()=>{globalThis.getSelection().removeAllRanges(),i.target.textContent="Copier"},2e3))})};static getOrCreateElement=({parent:e,cssSelector:t,hmtlTag:r})=>{let o;return e.querySelector(t)?o=e.querySelector(t):(o=document.createElement(r),e.appendChild(o)),o}};var y=class n extends u{static getClassName=e=>`#data-product .${e}`;static displayDialogUserReviewDetails=async e=>{let t=e.status,{message:r}=await e.json(),o=document.querySelector("#data-product > dialog");n.setProductDialogContent(o,{title:"F\xE9licitations",paragraph:r,status:t}),o.showModal()};static displayDialogUserBookingDetails=async e=>{let{title:t,message:r,booking:o,email:s}=await e.json(),a=r.replace("{{ start }}",o.start).replace("{{ end }}",o.end);s&&(a=a.replace("{{ email }}",s));let c=document.querySelector("#data-product > dialog");n.setProductDialogContent(c,{title:t,paragraph:a}),c.showModal()};static displayDialogLoginInfoToUser=e=>{let t=document.querySelector("#data-product > dialog");n.setProductDialogContent(t,{isUserConnected:e,title:"Connectez-vous !",paragraph:"Vous devez vous connecter pour pouvoir r\xE9server un cr\xE9neau !"}),t.showModal()};static displayDialogErrorInfoToUser=async e=>{let{message:t}=await e.json(),r=document.querySelector("#data-product > dialog");n.setProductDialogContent(r,{title:"Erreur de saisie",paragraph:t}),r.showModal()}};export{y as ProductFormHelper};
