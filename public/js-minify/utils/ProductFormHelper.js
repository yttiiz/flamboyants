var u=e=>{let t=new FormData(e);for(let[r,o]of t)(o===""||typeof o=="object"&&o.size===0||r.includes("file"))&&t.delete(r);return t},d=e=>{for(let t of e)t.querySelector("textarea")&&(t.querySelector("textarea").value=""),t.querySelector("input")&&(t.querySelector("input").value="")},y=class{constructor(){}static setFormData=u;static removeInputsValues=d;static setUserDialogContent=(e,{title:t,paragraph:r})=>{e.querySelector("h2").textContent=t,e.querySelector("p").textContent=r};static setProductDialogContent=(e,{isUserConnected:t,title:r,paragraph:o})=>{e.querySelector("h2").textContent=r,e.querySelector("p").textContent=o,t||t===void 0?e.querySelector(".login-register").classList.contains("none")||e.querySelector(".login-register").classList.add("none"):e.querySelector(".login-register").classList.contains("none")&&e.querySelector(".login-register").classList.remove("none")};static setProfilDialogContent=(e,{title:t,paragraph:r,status:o,handler:s})=>{if(e.querySelector("h2").textContent=t,e.querySelector("p").textContent=r,o)switch(o){case 201:{e.querySelector("form").classList.contains("none")||e.querySelector("form").classList.add("none");break}case 200:{e.querySelector("form").classList.contains("none")||e.querySelector("form").classList.add("none"),e.querySelector(".show-message-to-user").classList.contains("none")&&e.querySelector(".show-message-to-user").classList.remove("none"),s&&(e.querySelector("button").removeEventListener("click",s),e.querySelector("button").addEventListener("click",()=>globalThis.location.href="/"));break}}else e.querySelector("form").classList.contains("none")&&e.querySelector("form").classList.remove("none")};static setHomeDialogContent=(e,{title:t,paragraph:r},o)=>{e.querySelector("h2").textContent=t,e.querySelector("p").innerHTML=r;let s=globalThis.navigator.userAgent.includes("Firefox"),c=e.querySelector("input"),a=o.closest("div").nextElementSibling.href;if(c.value=a,s){let n=e.querySelector("div > div"),i=n.querySelector("button");i&&n.removeChild(i);return}e.querySelector("div > div button").addEventListener("click",async n=>{let i=await navigator.permissions.query({name:"clipboard-write"});(i.state==="granted"||i.state==="prompt")&&(navigator.clipboard.writeText(a),c.select(),n.target.textContent="Copi\xE9",setTimeout(()=>{globalThis.getSelection().removeAllRanges(),n.target.textContent="Copier"},2e3))})};static getOrCreateElement=({parent:e,cssSelector:t,hmtlTag:r})=>{let o;return e.querySelector(t)?o=e.querySelector(t):(o=document.createElement(r),e.appendChild(o)),o}},m=class l extends y{static getClassName=t=>`#data-product .${t}`;static displayDialogUserReviewDetails=async t=>{let r=t.status,{message:o}=await t.json(),s=document.querySelector("#data-product > dialog");l.setProductDialogContent(s,{title:"F\xE9licitations",paragraph:o,status:r}),s.showModal()};static displayDialogUserBookingDetails=async t=>{let{title:r,message:o,booking:s,email:c}=await t.json(),a=o.replace("{{ start }}",s.start).replace("{{ end }}",s.end);c&&(a=a.replace("{{ email }}",c));let n=document.querySelector("#data-product > dialog");l.setProductDialogContent(n,{title:r,paragraph:a}),n.showModal()};static displayDialogLoginInfoToUser=t=>{let r=document.querySelector("#data-product > dialog");l.setProductDialogContent(r,{isUserConnected:t,title:"Connectez-vous !",paragraph:"Vous devez vous connecter pour pouvoir r\xE9server un cr\xE9neau !"}),r.showModal()};static displayDialogErrorInfoToUser=async t=>{let{message:r}=await t.json(),o=document.querySelector("#data-product > dialog");l.setProductDialogContent(o,{title:"Erreur de saisie",paragraph:r}),o.showModal()}};export{m as ProductFormHelper};
